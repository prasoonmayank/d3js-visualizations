<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>D3 dev environment</title>
	<script src="d3.js"></script>
</head>
<body>
	<script>
		function AddWidget(spec) {
			var instance = {};

			var headline, description;

			instance.render = function () {
				var div = d3.select('body').append('div');

				div.append('h3').text(headline);

				div.attr('class', 'box')
					.attr('style', "color:" + spec.color)
					.append('p')
						.text(description);

				return instance;
			};

			instance.headline = function (h) {
				headline = h;
				return instance;
			}

			instance.description = function (d) {
				if (!arguments.length) return description;
				description = d;
				return instance;
			};

			return instance;
		}

		var widget = AddWidget({color: "#6495ed"})
				.headline("Simple Widget")
				.description("This is a simple widget demonstrating functional js");
		widget.render();
	</script>
</body>
</html>